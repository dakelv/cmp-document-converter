<!DOCTYPE html>
<html>
<head>
    <title>Test Password Dialog</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; }
        .test-button { padding: 10px 20px; margin: 10px; background: #007bff; color: white; border: none; border-radius: 5px; cursor: pointer; }
        .result { padding: 10px; margin: 10px 0; border-radius: 5px; background: #f8f9fa; border: 1px solid #dee2e6; }
    </style>
</head>
<body>
    <h1>üîê Test Password Dialog</h1>
    <p>This tests the new hidden password input dialog.</p>
    
    <button class="test-button" onclick="testDialog()">üß™ Test Password Dialog</button>
    <button class="test-button" onclick="clearAuth()">üßπ Clear Auth & Test Main App</button>
    
    <div id="results"></div>
    
    <script src="js/auth-client-side.js"></script>
    <script src="js/cmp-doc-converter-config.js"></script>
    <script src="js/cmp-doc-converter-main.js"></script>
    
    <script>
        async function testDialog() {
            const result = document.getElementById('results');
            result.innerHTML = '<div class="result">üîç Testing password dialog...</div>';
            
            try {
                const code = await showPasswordDialog();
                if (code) {
                    result.innerHTML += `<div class="result">‚úÖ Code entered: ${code} (length: ${code.length})</div>`;
                } else {
                    result.innerHTML += '<div class="result">‚ùå No code entered (cancelled)</div>';
                }
            } catch (error) {
                result.innerHTML += `<div class="result">‚ùå Error: ${error.message}</div>`;
            }
        }
        
        function clearAuth() {
            localStorage.removeItem('cmp_access_code');
            if (window.cmpAuth) {
                window.cmpAuth.clearAuthentication();
            }
            document.getElementById('results').innerHTML = '<div class="result">üßπ Authentication cleared. Opening main app...</div>';
            setTimeout(() => {
                window.open('cmp-doc-converter.html', '_blank');
            }, 1000);
        }
    </script>
</body>
</html></text>
</invoke>